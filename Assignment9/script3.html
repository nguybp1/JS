<!doctype html>

<!--
Student: Brandon Nguyen
Professor: George Cooke
Course: CTS2852C
Project: Assignment 9
File: script3.html
Date: 10/27/2015
-->

<html>
  <head>
    <meta charset="utf-8">
    <!-- Site Tile -->
    <title>CTS2852C - Assignment 9</title>
    <!-- External style sheet -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript">
      function getNameCookie() {
        var cookieName = 'Address';
        var cookieReturn = '';
        var allCookies = document.cookie;
        var cookieArray = allCookies.split(';');
        for (var i=0; i<cookieArray.length; i++) {
          var theCookie = cookieArray[i];
          while (theCookie.charAt(0)==' ') {
            theCookie = theCookie.substring(1,theCookie.length);
					} 
          if (theCookie.indexOf(cookieName+'=') == 0) {
            cookieReturn = theCookie.substring(cookieName.length+1,theCookie.length);
          }
        }
        return cookieReturn;
      }
      function storeName(myForm) {
        if (myForm) {
          var currentDate = new Date();
          var expireDate = new Date(currentDate.getFullYear()+1,currentDate.getMonth(),currentDate.getDate());
          document.cookie = 'Address='+myForm.Address.value+';expires='+expireDate.toUTCString();
          alert(document.cookie)
        } else {
            document.cookie = 'Address=';
            alert(document.cookie)
          }
      }
    </script>
  </head>
  <body>
    <!-- Page Tile -->
    <h2>CTS2852C - Assignment 9</h2>
    <!-- Section Tile -->
    <h1>Script 3</h1>
    <form name="myForm" method="post" action="alert('Form submitted');">
      Name: <input type="text" id="Name"><br/>
      Address: <input type="text" id="Address">
      <br>
      
    <script type="text/javascript">
      var currentAddress = getNameCookie();
      if (currentAddress.length>0) {
        document.getElementById('Address').value = currentAddress;
      }
    </script>
      <!-- Save Address: <input type="checkbox" name="saveLogin" id="saveLogin"> -->
    <p><input type="button" value="Submit" onClick="storeName(this.form)"></p>
    </form>
  </body>
</html>
